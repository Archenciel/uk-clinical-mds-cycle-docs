
import {Grid, Item, Divider} from '@mui/material'; // Grid version 1
import UnderConstruction from '../../../components/underConstruction';

<UnderConstruction/>

## Patient Journey: Clinical- and Data Domain

Our approach on integrating a "Data" level into the clinical process for ADPKD treatment builds upon systematically mapping out data sources, content, usage, and challenges throughout each step of the patient journey. 
This approach not only covers the enrichment of the clinical decision-making process but all types of enhancements in patient care through informed insights. 

#### Data Domain Overview
| Index | Data Source                            | Contents                                                                                       | Relevance                                                                                                                         | Sources at UK-Cologne                               |
|-------|----------------------------------------|------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| 1     | Patient-Generated Health Data (PGHD)   | Symptoms journal, family medical history, lifestyle factors, medication adherence records      | Early identification of symptoms, impact of lifestyle, tracking side effects                                                      | Patient portals, mobile health apps                 |
| 2     | Electronic Health Records (EHR)        | Medical history, clinical notes, lab results, imaging studies, genetic tests, treatment plans  | Comprehensive health overview, diagnostic data, treatment responses                                                                | Hospital Information System (HIS)                    |
| 3     | Imaging Databases                      | Ultrasound, MRI, CT scan images and reports                                                    | Diagnosis confirmation, disease staging, cyst monitoring                                                                          | Radiology Department                                |
| 4     | Laboratory Information Systems (LIS)   | Blood and urine test results (renal function, liver function, proteinuria, hematuria)          | Initial diagnosis, kidney function monitoring, complication detection                                                             | On-site Clinical Laboratories                       |
| 5     | Genetic Testing Reports                | Genetic test results identifying ADPKD mutations                                                | Confirmatory diagnosis, family screening, prognostic information                                                                  | Genetic Counseling Services                         |
| 6     | Pharmacy Records                       | Prescribed medications, dosages, refill history                                                 | Medication management, adherence tracking, drug interactions                                                                      | Hospital Pharmacy                                   |
| 7     | Insurance Claims Databases             | Treatment claims, procedure codes, cost data                                                    | Economic impact of ADPKD treatment, care delivery patterns                                                                         | Administration and Billing Department               |
| 8     | Clinical Trial Databases               | Data on clinical trials, investigational treatments, efficacy, safety outcomes                   | Potential new treatments, emerging research findings                                                                              | Research and Development Department                 |
| 9     | Patient Registries                     | Data from ADPKD patients including demographics, treatment patterns, outcomes                    | Disease patterns, long-term outcomes, treatment effectiveness                                                                     | Nephrology Department Registry                      |
| 10    | NHANES                                 | Epidemiological data on kidney disease prevalence, risk factors, health outcomes                | Population-level trends, risk factors related to ADPKD                                                                            | Public Health Department (External Source)          |
| 11    | Social Media and Online Forums         | Patient experiences, treatment reviews, quality of life discussions                              | Patient-reported outcomes, peer support, patient education                                                                        | Online Patient Support Groups (External Source)     |
| 12    | Health and Wellness Apps               | Health tracking data, blood pressure readings, dietary intake, exercise                           | Lifestyle management, correlations between activities and disease progression or management                                       | Mobile Health Applications (External Source)        |

<br/>
<Divider style={{marginBottom:"1em"}}/>
#### Interactive Process Model
<br/>

import React, {useCallback} from 'react';
import ReactFlow, { Background } from 'reactflow';
import 'reactflow/dist/style.css';
import ReactDOM from 'react-dom';
import { Handle, Position, MiniMap, MarkerType, Controls, useNodesState,useEdgesState, addEdge, addNode } from 'reactflow';

import DefaultNode from '../../../components/defaultNode'
import GroupNode from '../../../components/groupNode'
import SemiCircularEdge from '../../../components/semiCircularEdge'
import StartEndEdge from '../../../components/startEndEdge';

export const Flow = () => {

    // Phase 0
    const phase_0_Nodes = [
    // Pre-Clinic Process
        {
            id: 'title-1',
            position: { x: 0, y: 0 },
            type: 'groupNode',
            data: { 
            label: 'Clinical Domain',
            details: '<div> Clinical view on the Patient Journey.</div>'
            },
            style: { background: '#77c6e8ff', color:"#000000ff",  width: 800, height: 40 }
        },
        {
            id: 'title-2',
            position: { x: 800, y: 0 },
            type: 'groupNode',
            data: { 
            label: 'Data Domain',
            details: '<div>Data view on the Patient Journey.</div>'
            },
            style: { background: '#61c577ff', color:"#000000ff",  width: 800, height: 40 }
        },
        {
            id: '0',
            position: { x: 290, y: 50 },
            type: 'groupNode',
            data: { 
            label: 'Pre-Clinical Process',
            details: '<div> <b>Details:</b><br/> Patient provides personal and medical history, symptoms related to ADPKD. </div>'
            },
            style: { background: '#86ffedc1', color:"#000000ff",  width: 220, height: 320 }
        },
        {
            id: '0.1',
            position: { x: 20, y: 50 },
            type: 'defaultNode',
            parentNode: "0",
            data: {
                label: 'Recognizing the Need for Medical Attention',
                details: '<b>Details:</b><br/> The patient, their family members or the family doctor recognize symptoms that may be associated with kidney issues, such as pain in the back or sides, changes in urine output, or hypertension.'
            },
            style: { background: '#e8e8e8', color:"#ffffff" }
        },
        {
            id: '0.2',
            position: { x: 20, y: 150 },
            type: 'defaultNode',
            parentNode: "0",
            data: {
                label: 'Finding a Suitable Clinic or Specialist',
                details: '<b>Details:</b><br/> The patient seeks out a healthcare provider, which could be a general practitioner, a nephrologist, or a specialized clinic like the University Clinic of Cologne for further evaluation. <br/><br/> <b>Decisions:</b><br/> <b>1. General Practitioner vs. Clinical Specialist:</b> The decision may depend on the severity of symptoms, accessibility, or prior medical advice.<br/> <b>2. Researching and Selecting a Clinic:</b> Patients might research or get referrals to find a clinic that specializes in kidney diseases or specifically in ADPKD.'
            },
            style: { background: '#e8e8e8', color:"#ffffff" }
        },
        {
            id: '0.3',
            position: { x: 20, y: 250 },
            type: 'defaultNode',
            parentNode: "0",
            data: {
                label: 'Making an Appointment',
                details: '<b>Details:</b><br/> Once a suitable healthcare provider is identified, the patient or their caregivers make an appointment for an initial consultation.'
            },
            style: { background: '#e8e8e8', color:"#ffffff" }
        }
    ];

    const phase_0_Edges = [
        { id: 'e0.1-0.2', animated:true, source: '0.1', zIndex:999, target: '0.2', label: 'Immediate', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e0.2-0.3', animated:true, source: '0.2', zIndex:999, target: '0.3', label: 'Immediate', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e0.3-1.0', animated:true, source: '0.3', zIndex:999, target: '1.1.1', type:'startEndEdge', data: { startLabel: '1-30 days' },markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000051' } }
    ];

    // Phase 1
    const phase_1_Nodes = [
    // Initial Clinic Visit
        {
            id: '1',
            position: { x: 270, y: 420 },
            type: 'groupNode',
            data: { 
            label: 'Initial Clinic Visit',
            },
            style: { background: '#00ddff7c',  width: 260, height: 670, color:"#000000ff" }
        },
        {
            id: '1.1',
            position: { x: 20, y: 50 },
            type: 'groupNode',
            parentNode: "1",
            data: {
                label: 'Patient Arrival and Registration',
                details: '<b>Details:</b><br/> Upon arriving at the clinic, the patient undergoes a standard registration process, providing personal and medical information.'
            },
            style: { background: '#31d1eac0', color:"#000000ff",  width: 220, height: 250 }
        },
        {
            id: '1.1.1',
            position: { x: 20, y: 70 },
            type: 'defaultNode',
            parentNode: "1.1",
            data: {
                label: 'Medical History Documentation',
                details: '<b>Details:</b><br/> Gathering detailed information about the patient’s medical history, focusing on symptoms that might indicate ADPKD.'
            },
            style: { background: '#e8e8e8' }
        },
        {
            id: '1.1.2',
            position: { x: 20, y: 180 },
            type: 'defaultNode',
            parentNode: "1.1",
            data: {
                label: 'Symptom Identification',
                details: '<b>Details:</b><br/> Clinicians note any ADPKD-related symptoms reported by the patient.'
            },
            style: { background: '#e8e8e8' }
        },
        {
            id: '1.2',
            position: { x: 20, y: 330 },
            type: 'groupNode',
            parentNode: "1",
            data: {
                label: 'Initial Assessment by Healthcare Professional'
            },
            style: { background: '#64969ec0', color:"#000000ff",  width: 225, height: 320 }
        },
        {
            id: '1.2.1',
            position: { x: 20, y: 80 },
            type: 'defaultNode',
            parentNode: "1.2",
            data: {
                label: 'Physical Examination',
                details: '<b>Details:</b><br/> A healthcare professional conducts a comprehensive physical examination, including checking blood pressure and examining for physical signs indicating kidney issues.'
            },
            style: { background: '#e8e8e8' }
        },
        {
            id: '1.2.2',
            position: { x: 20, y: 160 },
            type: 'defaultNode',
            parentNode: "1.2",
            data: {
                label: 'Family History Review',
                details: '<b>Details:</b><br/> Evaluation of the patient’s family medical history, particularly looking for a genetic predisposition to ADPKD.'
            },
            style: { background: '#e8e8e8' }
        },
        {
            id: '1.2.3',
            position: { x: 20, y: 240 },
            type: 'defaultNode',
            parentNode: "1.2",
            data: {
                label: 'Consultation about Next Steps',
                details: '<b>Details:</b><br/> Based on the prior assessment, the healthcare professional decides whether to proceed with further diagnostic tests and informs the patient about the recommended steps.'
            },
            style: { background: '#e8e8e8' }
        },
    ]

    const phase_1_Edges = [
        { id: 'e1.1.1-1.1.2', animated:true, source: '1.1.1', zIndex:999, target: '1.1.2', label: 'Immediate', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e1.1.2-1.2.1', animated:true, source: '1.1.2', zIndex:999, target: '1.2.1', type:'startEndEdge', data: { startLabel: '0-2h' },markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e1.2.1-1.2.2', animated:true, source: '1.2.1', zIndex:999, target: '1.2.2', label: '1-2 weeks', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e1.2.2-1.2.3', animated:true, source: '1.2.2', zIndex:999, target: '1.2.3', label: 'Immediate', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } }
    ];

  // Phase 2
    const phase_2_Nodes = [
    // Diagnostic Process for ADPKD
        {
            id: '2',
            position: { x: 140, y: 1120 },
            type: 'groupNode',
            data: { 
            label: 'Diagnostic Process',
            },
            style: { background: '#00a6ff7c',  width: 520, height: 320, color:"#000000ff" }
        },
        {
            id: '2.1',
            position: { x: 20, y: 50 },
            type: 'defaultNode',
            parentNode: "2",
            data: {
                label: 'Laboratory Tests',
                details: '<b>Details:</b><br/> Conduct blood and urine tests to assess kidney function and signs of damage. Early detection of renal impairment, electrolyte imbalances, and proteinuria. <br/></br><b>Decision Factors</b>:<br/> The choice of specific tests (e.g., serum creatinine, GFR estimation, urine albumin-to-creatinine ratio) is guided by initial assessment findings.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '2.2',
            position: { x: 170, y: 120 },
            type: 'defaultNode',
            parentNode: "2",
            data: {
                label: 'Imaging Studies',
                details: '<b>Details:</b><br/> Perform ultrasound as the first-line imaging modality to detect cysts in the kidneys. MRI or CT scans may be used for further assessment if needed. <b><br/><br/> Key Considerations:</b><br/>  Ultrasound is non-invasive and widely available, making it suitable for initial screening. MRI or CT provides more detailed imaging, useful in complex cases.'
            },
            style: { background: '#f9bcbc' }
        },
        {
            id: '2.3',
            position: { x: 320, y: 190 },
            type: 'defaultNode',
            parentNode: "2",
            data: {
                label: 'Genetic Testing',
                details: '<b>Details:</b><br/> Offered to patients with a family history of ADPKD or when imaging is inconclusive. Helps in confirming the diagnosis, especially in atypical cases or early-stage disease.'
            },
            style: { background: '#e8e8e8' }
        },
        {
            id: '2.4',
            position: { x: 170, y: 260 },
            type: 'defaultNode',
            parentNode: "2",
            data: {
                label: 'Diagnosis Conclusion',
                details: '<b>Details:</b><br/> Combining data from laboratory tests, imaging studies, and genetic testing to form a comprehensive picture of the patient’s condition. Ensuring the patient understands their condition, the implications of the diagnostic findings, and the rationale behind proposed treatment options.'
            },
            style: { background: '#e8e8e8' }
        }
    ]

    const phase_2_Edges = [
        { id: 'e1.2.3-2.1', animated:true, source: '1.2.3', zIndex:999, target: '2.1', type:'startEndEdge', data: { startLabel: '1-3 days' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e1.2.3-2.2', animated:true, source: '1.2.3', zIndex:999, target: '2.2', type:'startEndEdge', data: { startLabel: '1-3 days' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e1.2.3-2.3', animated:true, source: '1.2.3', zIndex:999, target: '2.3', label:'optional', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e2.1-2.4', animated:true, source: '2.1', zIndex:999, target: '2.4', label: '1-3 days', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e2.2-2.4', animated:true, source: '2.2', zIndex:999, target: '2.4', label: '1-2 days', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e2.3-2.4', animated:true, source: '2.3', zIndex:999, target: '2.4', label: '2-12 weeks', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } }
    ];


    // Phase 3
    const phase_3_Nodes = [
    // Treatment Decision and Consultation Process
        {
            id: '3',
            position: { x: 270, y: 1500 },
            type: 'groupNode',
            data: { 
            label: 'Treatment Decision and Consultation Process',
            },
            style: { background: '#00c8ff7c',  width: 260, height: 350, color:"#000000ff" }
        },
        {
            id: '3.1',
            position: { x: 40, y: 70 },
            type: 'defaultNode',
            parentNode: "3",
            data: {
                label: 'Evaluation of Disease Severity',
                details: '<b>Details:</b><br/> Assess the severity of ADPKD based on kidney function, size and number of cysts, hypertension, and other complications. Key Considerations: Kidney function (eGFR), hypertension management, and presence of complications such as pain or urinary infections.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '3.2',
            position: { x: 40, y: 170 },
            type: 'defaultNode',
            parentNode: "3",
            data: {
                label: 'Discussion of Treatment Options',
                details: '<b>Details:</b><br/> Engage in a detailed discussion with the patient about possible treatment options, including conservative management, pharmacological interventions, and, in advanced stages, considerations for dialysis or transplantation. Key Considerations: Patient’s lifestyle, potential side effects of treatments, and preferences. Decision Factors: Based on disease severity, patients quality of life considerations, and potential for disease progression.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '3.3',
            position: { x: 40, y: 270 },
            type: 'defaultNode',
            parentNode: "3",
            data: {
                label: 'Pharmacological Treatments Decision',
                details: '<b>Details:</b><br/>  Decide on specific medications, focusing on controlling hypertension (e.g., ACE inhibitors or ARBs) and, if applicable, prescribing tolvaptan to slow disease progression. Key Considerations: Tolvaptan is considered for certain patients based on disease severity, kidney function, and liver tests. Decision Factors: Eligibility for tolvaptan treatment, considering liver function and potential side effects.'
            },
            style: { background: '#e8e8e8'}
        }
    ]

    const phase_3_Edges = [
        { id: 'e2.4-3.1', animated:true, source: '2.4', zIndex:999, target: '3.1', type:'startEndEdge', data: { startLabel: '1-3 days' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e3.1-3.2', animated:true, source: '3.1', zIndex:999, target: '3.2', label: '1-2 weeks', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e3.2-3.3', animated:true, source: '3.2', zIndex:999, target: '3.3', label: '1-3 weeks', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
       
    ];

    // Phase 4
    const phase_4_Nodes = [
    // Treatment Decision and Consultation Process
        {
            id: '4',
            position: { x: 140, y: 1880 },
            type: 'groupNode',
            data: { 
            label: 'Treatment Implementation Process',
            },
            style: { background: '#25e9d97c',  width: 520, height: 800, color:"#000000ff" }
        },
        {
            id: '4.1',
            position: { x: 40, y: 70 },
            type: 'defaultNode',
            parentNode: "4",
            data: {
                label: 'Lifestyle Modifications and Supportive Care',
                details: '<b>Details:</b><br/> Implement lifestyle changes and supportive care measures to manage symptoms and slow progression. <br/><br/><b>Key Considerations:<br/></b> Dietary adjustments, increased water intake, and pain management. <br/><br/><b>Decision Factors:<br/></b> Tailored to patient needs and capabilities, considering the impact on quality of life.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.2',
            position: { x: 300, y: 70 },
            type: 'defaultNode',
            parentNode: "4",
            data: {
                label: 'Pharmacological Treatments',
                details: '<b>Details:</b><br/> Engage in a detailed discussion with the patient about possible treatment options, including conservative management, pharmacological interventions, and, in advanced stages, considerations for dialysis or transplantation. <br/><br/><b>Key Considerations:<br/></b> Patient’s lifestyle, potential side effects of treatments, and preferences. <br/><br/><b>Decision Factors:<br/></b> Based on disease severity, patients quality of life considerations, and potential for disease progression.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.3',
            position: { x: 170, y: 170 },
            type: 'defaultNode',
            parentNode: "4",
            data: {
                label: 'Regular Monitoring',
                details: '<b>Details:</b><br/> Ongoing kidney function tests and imaging studies.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4',
            position: { x: 20, y: 270 },
            type: 'groupNode',
            parentNode: "4",
            data: {
                label: 'Advanced Care',
                details: '<b>Details:</b><br/>For patients in advanced stages, discuss dialysis options and evaluate the feasibility of kidney transplantation. <br/><br/><b>Key Considerations:<br/></b> Timing for dialysis initiation, eligibility and preparation for kidney transplantation. <br/><br/><b>Decision Factors:<br/></b> Based on declining kidney function, patients overall health, and transplant eligibility criteria.'
            },
           style: { background: '#85caf866',  width: 480, height: 510, color:"#000000ff" }
        },
        {
            id: '4.4.1',
            position: { x: 150, y: 50 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Advanced Care Planning (if applicable)',
                details: '<b>Details:</b><br/> For patients in advanced stages, discuss dialysis options and evaluate the feasibility of kidney transplantation. <br/><br/><b>Key Considerations:<br/></b> Timing for dialysis initiation, eligibility and preparation for kidney transplantation. <br/><br/><b>Decision Factors:<br/></b> Based on declining kidney function, patients overall health, and transplant eligibility criteria.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.2',
            position: { x: 20, y: 150 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Dialysy',
                details: '<b>Options:<br/></b> <b>1. Hemodialysis:</b> Performed in a clinic or hospital setting, typically three times a week. <br/><b>2. Peritoneal Dialysis:</b> Can be done at home, offering more flexibility but requires daily treatment. <br/><br/><b>Impact:<br/></b> Dialysis can significantly extend life expectancy for patients with ESRD. However, the choice between hemodialysis and peritoneal dialysis depends on patient preference, lifestyle, and other health considerations.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.3',
            position: { x: 280, y: 150 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Kidney Transplantation',
                details: '<b>Details:</b><br/> Evaluating eligibility for a kidney transplant, which involves receiving a healthy kidney from a living or deceased donor. <br/><br/><b>Impact:<br/></b> A successful kidney transplant can dramatically improve life expectancy and quality of life compared to dialysis. However, patients must meet specific health criteria to be eligible, and there may be a waiting period for a suitable donor. <br/><br/></b>Treatment, Not a Cure:</b><br/> Kidney transplantation addresses the kidney failure aspect of ADPKD but does not cure the underlying genetic condition. ADPKD patients still carry the gene that causes the disease, and cysts can potentially develop in other organs.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.4',
            position: { x: 20, y: 250 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Palliative Care',
                details: '<b>Details:</b><br/> Specialized medical care aimed at providing relief from the symptoms and stress of serious illness, focusing on improving life quality for both the patient and the family. <br/><br/><b>Impact:<br/></b> Palliative care can be integrated at any stage of the disease but is particularly crucial in advanced care. It addresses physical, emotional, and spiritual needs, which can positively affect life expectancy by improving overall well-being.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.5',
            position: { x: 20, y: 350 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'End-of-Life Care',
                details: '<b>Details:</b><br/> A decision-making process where healthcare providers, in consultation with the patient and their family, recognize that the focus of care should shift from active treatment of the disease to palliative care, emphasizing comfort and quality of life. <br/><br/><b>Key Considerations:<br/></b> The timing for this transition involves recognizing when further active or aggressive treatments are no longer beneficial or in line with the patient’s wishes.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.6',
            position: { x: 20, y: 450 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Hospice Care',
                details: '<b>Details:</b><br/> For patients in the final months of life, hospice care provides specialized support for end-of-life care, often in the patients home but also available in hospice centers, hospitals, and nursing homes. <br/><br/><b>Key Considerations:<br/></b> Focuses on comfort and quality of life, with an interdisciplinary team approach to address the comprehensive needs of the patient and provide support to the family.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.7',
            position: { x: 20, y: 550 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Bereavement Support',
                details: '<b>Details:</b><br/> After the patients death, providing ongoing support to help family members and loved ones cope with the loss. <br/><br/><b>Key Considerations:<br/></b> Bereavement services can include counseling, support groups, and resources to assist with the grieving process.'
            },
            style: { background: '#e8e8e8'}
        },
        {
            id: '4.4.8',
            position: { x: 280, y: 250 },
            type: 'defaultNode',
            parentNode: "4.4",
            data: {
                label: 'Post Transplantation Care',
                details: '<b>Details:</b><br/> Post-transplant, patients require close monitoring to ensure the new kidney is functioning correctly and to detect any signs of rejection. Patients must take immunosuppressive medications for the rest of their lives to prevent the body from rejecting the new organ. These medications come with their side effects and necessitate regular monitoring. <br/><br/><b>Follow-up:</b><br/> Regular follow-ups with the healthcare team are critical to manage any complications, adjust medications, and monitor kidney function. Advances in transplantation medicine have significantly improved long-term outcomes, making it less common for patients to return to dialysis soon after receiving a transplant. <br/><br/><b>Monitoring for Complications:</b><br/> Long-term, transplant recipients need to be monitored for complications of immunosuppression, including infections and an increased risk of certain cancers. There’s also a need to monitor for any signs of ADPKD affecting other organs.'
            },
            style: { background: '#e8e8e8'}
        },
    ]

    const phase_4_Edges = [
        { id: 'e3.3-4.1', animated:true, source: '3.3', zIndex:999, target: '4.1', type:'startEndEdge', data: { startLabel: '1-3 days' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e3.3-4.2', animated:true, source: '3.3', zIndex:999, target: '4.2', type:'startEndEdge', data: { startLabel: '1-3 days' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e4.1-4.3', animated:true, source: '4.1', zIndex:999, target: '4.3', label: 'regular', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.2-4.3', animated:true, source: '4.2', zIndex:999, target: '4.3', label: 'regular', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.3-4.4.1', animated:true, source: '4.3', zIndex:999, target: '4.4.1', type:'startEndEdge', data: { startLabel: 'years (progression triggered)' }, labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' } },
        { id: 'e4.4.1-4.4.2', animated:true, source: '4.4.1', zIndex:999, target: '4.4.2', label: '(?) 1-2 weeks', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.1-4.4.3', animated:true, source: '4.4.1', zIndex:999, target: '4.4.3', label: '~8 years', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.2-4.4.3', animated:true, source: '4.4.2', zIndex:999, target: '4.4.3', label: '~8 years', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.2-4.4.4', animated:true, source: '4.4.2', zIndex:999, target: '4.4.4', label: 'progression triggered', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.3-4.4.8', animated:true, source: '4.4.3', zIndex:999, target: '4.4.8', label: 'post-surgery', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.4-4.4.5', animated:true, source: '4.4.4', zIndex:999, target: '4.4.5', label: 'progression triggered', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.5-4.4.6', animated:true, source: '4.4.5', zIndex:999, target: '4.4.6', label: 'progression triggered', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.6-4.4.7', animated:true, source: '4.4.6', zIndex:999, target: '4.4.7', label: 'post-mortem', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.8-4.4.2', animated:true, source: '4.4.8', zIndex:999, target: '4.4.2', label: 'on failure', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
        { id: 'e4.4.8-4.4.4', animated:true, source: '4.4.8', zIndex:999, target: '4.4.4', label: 'on failure', labelStyle:{fill:"white"}, labelBgStyle: { fill: '#353535', fillOpacity: 0.9 }, markerEnd: { type:MarkerType.ArrowClosed, color:"#00000065"}, style: { stroke: '#00000065' }},
    ];

    const cyclic_Edges = [
        // Cyclic edges for ongoing steps
    { id: 'cyclic-1', source: '4.4.2', target: '4.4.2', type: 'custom',  zIndex:1, sourceHandle: 'left1', targetHandle: 'left2', data:"left", type: 'semiCircular', label: 'Recurring Treatment', arrowHeadType: 'arrowclosed', style: { strokeDasharray: '5,5', stroke: '#00000065', zIndex:999999 }, animated: true },
     { id: 'cyclic-2', source: '4.4.8', target: '4.4.8', type: 'custom',  zIndex:1, sourceHandle: 'right1', targetHandle: 'right2', data:"right", type: 'semiCircular', label: 'Ongoing process', arrowHeadType: 'arrowclosed', style: { strokeDasharray: '5,5', stroke: '#00000065', zIndex:999999 }, animated: true },
    ];

    const minimalJourneyNodes = [...phase_0_Nodes, ...phase_1_Nodes, ...phase_2_Nodes, ...phase_3_Nodes, ...phase_4_Nodes]
    const minimalJourneyEdges = [...phase_0_Edges, ...phase_1_Edges, ...phase_2_Edges, ...phase_3_Edges, ...phase_4_Edges, ...cyclic_Edges]

    const [nodes, setNodes, onNodesChange] = useNodesState(minimalJourneyNodes);
    const [edges, setEdges, onEdgesChange] = useEdgesState(minimalJourneyEdges);

    const onConnect = useCallback((connection) => {
        setEdges((eds) => addEdge(connection, eds));
    }, []);

  return (
    <div style={{ width: '100%', height: '50vh' }}>
      <ReactFlow 
        nodes={minimalJourneyNodes} 
        edges={minimalJourneyEdges} 
        nodeTypes={{ defaultNode: DefaultNode, groupNode: GroupNode }}
        edgeTypes={{ semiCircular: SemiCircularEdge, startEndEdge: StartEndEdge }}
        
      >
        <Controls />
        <Background color="#aaa" gap={80} />
      </ReactFlow>
    </div>
  );
};


<Flow />

<Divider style={{marginTop:"1em"}}/>

<Grid container spacing={4} margin="0em 0em">
  <Grid xs={12} sm={12} margin="1em 1em">
    #### Pre-Clinic Process
    1) Recognizing the Need for Medical Attention
        - **Description**: The patient, their family members or the family doctor recognize symptoms that may be associated with kidney issues, such as pain in the back or sides, changes in urine output, or hypertension.
    2) Finding a Suitable Clinic or Specialist
        - **Description**: The patient seeks out a healthcare provider, which could be a general practitioner, a nephrologist, or a specialized clinic like the University Clinic of Cologne for further evaluation.
        - Key Decision points:
            1. General Practitioner vs. Clinical Specialist: The decision may depend on the severity of symptoms, accessibility, or prior medical advice.
            2. Researching and Selecting a Clinic: Patients might research or get referrals to find a clinic that specializes in kidney diseases or specifically in ADPKD.
        - **Considerations**: Accessibility, insurance coverage, and the reputation of the healthcare provider can influence this decision.
    3) Making an Appointment
        - **Description**: Once a suitable healthcare provider is identified, the patient or their caregivers make an appointment for an initial consultation.
        - **Considerations**: The urgency of the symptoms can influence how quickly an appointment is sought.

    #### Initial Clinic Visit
    1) Patient Arrival and Registration
        - Process: Upon arriving at the clinic, the patient undergoes a standard registration process, providing personal and medical information.
        - Medical History Documentation: Gathering detailed information about the patient’s medical history, focusing on symptoms that might indicate ADPKD.
        - Symptom Identification: Clinicians note any ADPKD-related symptoms reported by the patient.
        - **Importance**: Early detection and risk assessment (Chapman et al., 2015).
    2) Initial Assessment by Healthcare Professional
        - Physical Examination: A healthcare professional conducts a comprehensive physical examination, including checking blood pressure and examining for physical signs indicating kidney issues.
        - Family History Review: Evaluation of the patient’s family medical history, particularly looking for a genetic predisposition to ADPKD.
        - Determining Next Steps: Based on this assessment, the healthcare professional decides whether to proceed with further diagnostic tests.
        - **Consideration**: Early clinical assessment crucial (Chapman et al., 2015).

    #### Diagnostic Process
    3) Laboratory Tests
        - Renal and liver function tests; urine analysis.
        - Options: Advanced genetic testing based on initial results.
        - **Research**: Kidney function markers in ADPKD progression (Müller, R. U., & Benzing, T., 2018).
    4) Imaging Studies
        - Standard renal ultrasound; MRI or CT for detailed imaging.
        - MRI preferred in cases with impaired renal function.
        - **Study**: Imaging modalities in ADPKD (Pei et al., 2015).
    5) Genetic Counseling and Testing (if indicated)
        - Offered to assess risk in family members.
        - Genetic testing confirms diagnosis and aids in family planning.
        - **Impact**: Genetic counseling in patient management (Audrézet et al., 2016).

    #### Treatment Decision
    6) Consultation with Nephrologist
        - Discussion of diagnostic results and kidney function evaluation.
    7) Treatment Planning
        - Personalized treatment based on kidney disease stage and patient health.
        - **Approach**: Personalized treatment plans crucial (Chebib & Torres, 2016).
  </Grid>
  <Grid xs={12} sm={12} margin="1em 1em">
    #### Treatment Implementation
    8) Management of Hypertension
        - Antihypertensive medication and lifestyle changes.
        - First-line treatments: ACE inhibitors or ARBs.
        - **Role**: Blood pressure control in ADPKD progression (Schrier et al., 2014).
    9) Symptom Management
        - Strategies for pain management and infection treatment.
        - Options: Analgesics or surgical interventions for severe pain.
        - Focus: Effective symptom management strategies (Casteleijn et al., 2014).
    10) Lifestyle Modifications
        - Dietary changes, reduced salt intake, and increased water consumption.
        - More details on ADPKD supporting factors: [ADPKD Supporting Factors](http://localhost:3000/nephrology/adpkd-factors)
    11) Medications Specific to ADPKD
        - Use of Tolvaptan under specific criteria.
        - Monitoring for side effects, especially liver function.
        - **Consideration**: Tolvaptan's role in ADPKD (Torres et al., 2017 & Müller et al., 2023).
    12) Regular Monitoring
        - Ongoing kidney function tests and imaging studies.
        - **Innovation**: AI-supported progression monitoring based on kidney volume (Jung et al. 2023).

    #### Advanced Care (if required)
    13) Management of Kidney Failure
        - Dialysis options and kidney transplant evaluation.
    14) Ongoing Support and Counseling
        - Psychological support and education about disease progression.
    15) Follow-up Visits
        - Regular nephrologist check-ups for treatment monitoring and adjustments.
  </Grid>
</Grid>